###運賃属性情報(推奨:fare_attributes.txt)・運賃定義情報(推奨:fare_rules.txt)
運賃に関する情報を設定します。GTFSでは任意となっていますが、国内の経路検索事業者において運賃は必須情報であることから、GTFS-JPにおいては必須としています。また、運賃定義情報も必須としていますが、運賃を設定する場合は必要であり、対キロ制の場合、全ての経路の全ての区間に対して運賃を設定する必要があります。
表現しきれない複雑な運賃の場合
本フォーマットでは、1日に何度乗っても固定料金、乗継割引等の複雑な運賃は表現しきれません。運賃に関する注記事項を[route_desc(routes.txt)]に設定することで、経路検索サービス等で注記が表示される可能性があります。

#### fare_attributes.txt

| フィールド名 | 日本語名 | 国内 | 日本のバス向けの設定項目 | 設定例 |
|---------------------|-------------------|------|---------|--------|
| fare_attributes.txt | 運賃属性情報 | 必須 | GTFSとして利用する場合は任意だが、国内の経路検索事業者においては必須としていることから、GTFS-JPとしては必須としている。 |  |
| ★fare_id | 運賃 ID | 必須 | fare_rules.txtと紐付けるためのIDを設定。 | F_210 |
| price | 運賃 | 必須 | fare_idで定義される運賃（円）を指定。 | 210 |
| ★currency_type | 通貨 | 固定 | 日本の場合、「JPY」を設定。 | JPY |
| payment_method | 支払いタイミ ング | 必須 | fare_idが適用される場合の運賃の支払いタイミングを指定。0 - 乗車後に支払う。1 - 乗車前に支払う。 | 1 |
| transfers | 乗換 | 必須 | fare_idが適用される場合、料金で許可される乗り換え回数を指定。0：この料金で乗り換えることはできません。1 ：1 度の乗り換えが可能。2 ：2 度の乗り換えが可能。（空白）：乗り換え回数に制限がなし | 0 |
| transfer_duration | 乗換有効期限 | 任意 | 乗換が可能な場合、乗り換え期限が切れるまでの時間を秒数で指定。乗換を認めない場合、ここでの設定値は運賃の有効期限となる。意図的な期限を設定しない場合、空白か値を指定しない。 | 空白 |


#### fare_rules.txt

| フィールド名 | 日本語名 | 国内 | 日本のバス向けの設定項目 | 設定例 |
|----------------|--------------|------------|--------------|--------|
| fare_rules.txt | 運賃定義情報 | 条件付必須 | 全線均一運賃の場合は不要、その他の場合はGTFS-JPとしては必須。 |  |
| fare_id | 運賃 ID | 必須 | 「fare_attributes」から参照。 | F_210 |
| route_id | 経路 ID | 任意 | 「routes」から参照。 | 1001 |
| origin_id | 乗車地ゾーン | 任意 | 乗車地のzone_idを設定。対キロ制等、区間ごとに運賃が異なる場合は、全ての乗降区間のパターンに対して設定が必要。 | Z_210 |
| destination_id | 降車地ゾーン | 任意 | 降車地のzone_idを設定。対キロ制等、区間ごとに運賃が異なる場合は、全ての乗降区間のパターンに対して設定が必要。 | Z_210 |
| contains_id | 通過ゾーン | 不要 | 使用しない。 |  |

#### 運賃設定例
運賃については、stops.zone_id、fare_attributes.txt、fare_rules.txtを連携して設定する必要があります。以下に、代表的な運賃パターンの設定例を示します。

##### 例1：全線均一運賃
運賃：全線200円均一

fare_attributes.txtの設定

| fare_id | Price | currency_type | payment_method | transfers |
|---------|-------|---------------|----------------|-----------|
| 100 | 100 | JPY | 0 | 0 |

fare_rules.txtの設定：不要

##### 例2：ゾーン制
運賃：停留所A～Bはeastゾーン　停留所C～Dはwestゾーン（系統1001）

![ゾーン制](../images/fare_example_01.png)

fare_attributes.txtの設定

| fare_id | Price | currency_type | payment_method | transfers |
|---------|-------|---------------|----------------|-----------|
| 200 | 200 | JPY | 0 | 0 |
| 400 | 400 | JPY | 0 | 0 |

fare_rules.txtの設定

| fare_id | route_id | origin_id | destination_id |
|---------|----------|-----------|----------------|
| 200 | 1001 | east | east |
| 200 | 1001 | west | west |
| 400 | 1001 | east | west |

##### 例3：対距離制と均一制の併用
運賃：停留所A～Cは200円均一、その他は対距離制（系統1001）

![ゾーン制](../images/fare_example_02.png)

fare_attributes.txtの設定

| fare_id | Price | currency_type | payment_method | transfers |
|---------|-------|---------------|----------------|-----------|
| 180 | 180 | JPY | 0 | 0 |
| 200 | 200 | JPY | 0 | 0 |
| 220 | 220 | JPY | 0 | 0 |

fare_rules.txtの設定

| fare_id | route_id | origin_id | destination_id |
|---------|----------|-----------|----------------|
| 180 | 1001 | 3_01 | 4_01 |
| 200 | 1001 | 1_01 | 2_01 |
| 200 | 1001 | 1_01 | 3_01 |
| 200 | 1001 | 2_01 | 3_01 |
| 200 | 1001 | 2_01 | 4_01 |
| 220 | 1001 | 1_01 | 4_01 |
